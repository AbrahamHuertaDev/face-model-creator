webpackJsonp([0],{144:function(l,n){function u(l){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+l+"'.")})}u.keys=function(){return[]},u.resolve=u,l.exports=u,u.id=144},173:function(l,n){function u(l){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+l+"'.")})}u.keys=function(){return[]},u.resolve=u,l.exports=u,u.id=173},211:function(l,n,u){"use strict";function t(l){return f._22(0,[(l()(),f.Z(0,0,null,null,2,"ion-nav",[],null,null,null,P.b,P.a)),f._16(6144,null,S.a,null,[U.a]),f.Y(2,4374528,null,0,U.a,[[2,A.a],[2,O.a],R.a,N.a,B.a,f.j,f.u,f.z,f.i,J.l,V.a,[2,W.a],G.a,f.k],{root:[0,"root"]},null),(l()(),f._20(-1,null,["\n"]))],function(l,n){l(n,2,0,n.component.rootPage)},null)}function e(l){return f._22(0,[(l()(),f.Z(0,0,null,null,21,"ion-content",[["margin",""],["padding",""]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,q.b,q.a)),f.Y(1,4374528,null,0,X.a,[N.a,B.a,G.a,f.j,f.z,R.a,$.a,f.u,[2,A.a],[2,O.a]],null,null),(l()(),f._20(-1,1,["\n  "])),(l()(),f.Z(3,0,null,1,1,"p",[],null,null,null,null,null)),(l()(),f._20(-1,null,["This demo only works in an updated version of Google Chrome"])),(l()(),f._20(-1,1,["\n  "])),(l()(),f.Z(6,0,null,1,1,"p",[],null,null,null,null,null)),(l()(),f._20(-1,null,["An experimental flag needs to be enabled."])),(l()(),f._20(-1,1,["\n  "])),(l()(),f.Z(9,0,null,1,1,"p",[],null,null,null,null,null)),(l()(),f._20(-1,null,["Visit:"])),(l()(),f._20(-1,1,["\n  "])),(l()(),f.Z(12,0,null,1,5,"div",[],null,null,null,null,null)),(l()(),f._20(-1,null,["\n    "])),(l()(),f.Z(14,0,null,null,2,"span",[["color","primary"],["ion-text",""],["style","user-select: text"]],null,null,null,null,null)),f.Y(15,16384,null,0,Q.a,[N.a,f.j,f.z],{color:[0,"color"]},null),(l()(),f._20(-1,null,["chrome://flags#enable-experimental-web-platform-features"])),(l()(),f._20(-1,null,["\n  "])),(l()(),f._20(-1,1,["\n  "])),(l()(),f.Z(19,0,null,1,1,"p",[],null,null,null,null,null)),(l()(),f._20(-1,null,["and enable it."])),(l()(),f._20(-1,1,["\n"]))],function(l,n){l(n,15,0,"primary")},function(l,n){l(n,0,0,f._11(n,1).statusbarPadding,f._11(n,1)._hasRefresher)})}function a(l){return f._22(0,[(l()(),f.Z(0,0,null,null,10,"ion-item",[["class","item item-block"]],null,null,null,ll.b,ll.a)),f.Y(1,1097728,null,3,nl.a,[ul.a,N.a,f.j,f.z,[2,tl.a]],null,null),f._18(335544320,7,{contentLabel:0}),f._18(603979776,8,{_buttons:1}),f._18(603979776,9,{_icons:1}),f.Y(5,16384,null,0,el.a,[],null,null),(l()(),f._20(-1,2,["\n              "])),(l()(),f.Z(7,0,null,2,2,"span",[["color","primary"],["ion-text",""]],null,null,null,null,null)),f.Y(8,16384,null,0,Q.a,[N.a,f.j,f.z],{color:[0,"color"]},null),(l()(),f._20(-1,null,["Add two labels to start"])),(l()(),f._20(-1,2,["\n            "]))],function(l,n){l(n,8,0,"primary")},null)}function i(l){return f._22(0,[(l()(),f.Z(0,0,null,null,13,"ion-item",[["class","item item-block"]],null,null,null,ll.b,ll.a)),f.Y(1,1097728,null,3,nl.a,[ul.a,N.a,f.j,f.z,[2,tl.a]],null,null),f._18(335544320,10,{contentLabel:0}),f._18(603979776,11,{_buttons:1}),f._18(603979776,12,{_icons:1}),f.Y(5,16384,null,0,el.a,[],null,null),(l()(),f._20(-1,2,["\n              "])),(l()(),f.Z(7,0,null,2,5,"span",[["color","primary"],["ion-text",""]],null,null,null,null,null)),f.Y(8,16384,null,0,Q.a,[N.a,f.j,f.z],{color:[0,"color"]},null),(l()(),f._20(-1,null,["\n                Click\n                "])),(l()(),f.Z(10,0,null,null,1,"ion-icon",[["name","camera"],["role","img"]],[[2,"hide",null]],null,null,null,null)),f.Y(11,147456,null,0,al.a,[N.a,f.j,f.z],{name:[0,"name"]},null),(l()(),f._20(-1,null,[" to add the blue squared face to the label\n              "])),(l()(),f._20(-1,2,["\n            "]))],function(l,n){l(n,8,0,"primary");l(n,11,0,"camera")},function(l,n){l(n,10,0,f._11(n,11)._hidden)})}function o(l){return f._22(0,[(l()(),f.Z(0,0,null,null,16,"ion-item",[["class","item item-block"]],null,null,null,ll.b,ll.a)),f.Y(1,1097728,null,3,nl.a,[ul.a,N.a,f.j,f.z,[2,tl.a]],null,null),f._18(335544320,13,{contentLabel:0}),f._18(603979776,14,{_buttons:1}),f._18(603979776,15,{_icons:1}),f.Y(5,16384,null,0,el.a,[],null,null),(l()(),f._20(-1,2,["\n              "])),(l()(),f.Z(7,0,null,0,5,"button",[["ion-button",""],["item-left",""]],null,[[null,"click"]],function(l,n,u){var t=!0;if("click"===n){t=!1!==l.component.onAddPicture(l.context.$implicit)&&t}return t},il.b,il.a)),f.Y(8,1097728,[[14,4]],0,ol.a,[[8,""],N.a,f.j,f.z],null,null),(l()(),f._20(-1,0,["\n                "])),(l()(),f.Z(10,0,null,0,1,"ion-icon",[["name","camera"],["role","img"]],[[2,"hide",null]],null,null,null,null)),f.Y(11,147456,null,0,al.a,[N.a,f.j,f.z],{name:[0,"name"]},null),(l()(),f._20(-1,0,["\n              "])),(l()(),f._20(13,2,["\n              ","\n              "])),(l()(),f.Z(14,0,null,4,1,"span",[["item-right",""]],null,null,null,null,null)),(l()(),f._20(15,null,[""," pictures"])),(l()(),f._20(-1,2,["\n            "]))],function(l,n){l(n,11,0,"camera")},function(l,n){var u=n.component;l(n,10,0,f._11(n,11)._hidden);l(n,13,0,n.context.$implicit);l(n,15,0,u.data[n.context.$implicit].length)})}function r(l){return f._22(0,[(l()(),f.Z(0,0,null,null,10,"ion-item",[["class","item item-block"]],null,null,null,ll.b,ll.a)),f.Y(1,1097728,null,3,nl.a,[ul.a,N.a,f.j,f.z,[2,tl.a]],null,null),f._18(335544320,16,{contentLabel:0}),f._18(603979776,17,{_buttons:1}),f._18(603979776,18,{_icons:1}),f.Y(5,16384,null,0,el.a,[],null,null),(l()(),f._20(-1,2,["\n              "])),(l()(),f.Z(7,0,null,2,2,"span",[["color","danger"],["ion-text",""]],null,null,null,null,null)),f.Y(8,16384,null,0,Q.a,[N.a,f.j,f.z],{color:[0,"color"]},null),(l()(),f._20(-1,null,["You must add at least 2 labels"])),(l()(),f._20(-1,2,["\n            "]))],function(l,n){l(n,8,0,"danger")},null)}function s(l){return f._22(0,[(l()(),f.Z(0,0,null,null,27,"ion-card",[],null,null,null,null,null)),f.Y(1,16384,null,0,rl.a,[N.a,f.j,f.z],null,null),(l()(),f._20(-1,null,["\n          "])),(l()(),f.Z(3,0,null,null,23,"ion-card-content",[],null,null,null,null,null)),f.Y(4,16384,null,0,sl.a,[N.a,f.j,f.z],null,null),(l()(),f._20(-1,null,["\n            "])),(l()(),f.Z(6,0,null,null,10,"ion-item",[["class","item item-block"]],null,null,null,ll.b,ll.a)),f.Y(7,1097728,null,3,nl.a,[ul.a,N.a,f.j,f.z,[2,tl.a]],null,null),f._18(335544320,19,{contentLabel:0}),f._18(603979776,20,{_buttons:1}),f._18(603979776,21,{_icons:1}),f.Y(11,16384,null,0,el.a,[],null,null),(l()(),f._20(-1,2,["\n              "])),(l()(),f.Z(13,0,null,2,2,"span",[["color","primary"],["ion-text",""]],null,null,null,null,null)),f.Y(14,16384,null,0,Q.a,[N.a,f.j,f.z],{color:[0,"color"]},null),(l()(),f._20(-1,null,["Training"])),(l()(),f._20(-1,2,["\n            "])),(l()(),f._20(-1,null,["\n            "])),(l()(),f.Z(18,0,null,null,7,"ion-item",[["class","item item-block"]],null,null,null,ll.b,ll.a)),f.Y(19,1097728,null,3,nl.a,[ul.a,N.a,f.j,f.z,[2,tl.a]],null,null),f._18(335544320,22,{contentLabel:0}),f._18(603979776,23,{_buttons:1}),f._18(603979776,24,{_icons:1}),f.Y(23,16384,null,0,el.a,[],null,null),(l()(),f._20(24,2,["Loss: ",""])),f._15(25,2),(l()(),f._20(-1,null,["\n          "])),(l()(),f._20(-1,null,["\n        "]))],function(l,n){l(n,14,0,"primary")},function(l,n){var u=n.component;l(n,24,0,f._21(n,24,0,l(n,25,0,f._11(n.parent.parent,0),u.imageClassifier.loss,"1.2-7")))})}function c(l){return f._22(0,[(l()(),f.Z(0,0,null,null,2,"button",[["color","secondary"],["full",""],["ion-button",""],["margin-top",""]],null,[[null,"click"]],function(l,n,u){var t=!0;if("click"===n){t=!1!==l.component.onExportModel()&&t}return t},il.b,il.a)),f.Y(1,1097728,null,0,ol.a,[[8,""],N.a,f.j,f.z],{color:[0,"color"],full:[1,"full"]},null),(l()(),f._20(-1,0,["Export Model"]))],function(l,n){l(n,1,0,"secondary","")},null)}function d(l){return f._22(0,[(l()(),f.Z(0,0,null,null,262,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,q.b,q.a)),f.Y(1,4374528,null,0,X.a,[N.a,B.a,G.a,f.j,f.z,R.a,$.a,f.u,[2,A.a],[2,O.a]],null,null),(l()(),f._20(-1,1,["\n  "])),(l()(),f.Z(3,0,null,1,3,"a",[["class","github-link"],["href","https://github.com/albertobeiz/face-model-creator"]],null,null,null,null,null)),(l()(),f._20(-1,null,["\n    "])),(l()(),f.Z(5,0,null,null,0,"img",[["alt","Fork me on GitHub"],["src","https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"],["style","position: absolute; top: 0; right: 0; border: 0; z-index: 15;"]],null,null,null,null,null)),(l()(),f._20(-1,null,["\n  "])),(l()(),f._20(-1,1,["\n\n  "])),(l()(),f.Z(8,0,null,1,6,"ion-toolbar",[["class","toolbar"],["color","primary"]],[[2,"statusbar-padding",null]],null,null,cl.b,cl.a)),f.Y(9,49152,null,0,dl.a,[N.a,f.j,f.z],{color:[0,"color"]},null),(l()(),f._20(-1,3,["\n    "])),(l()(),f.Z(11,0,null,3,2,"ion-title",[["text-center",""]],null,null,null,_l.b,_l.a)),f.Y(12,49152,null,0,hl.a,[N.a,f.j,f.z,[2,dl.a],[2,fl.a]],null,null),(l()(),f._20(-1,0,["Face Model Creator"])),(l()(),f._20(-1,3,["\n  "])),(l()(),f._20(-1,1,["\n\n  "])),(l()(),f.Z(16,0,null,1,245,"ion-grid",[["class","grid"]],null,null,null,null,null)),f.Y(17,16384,null,0,gl.a,[],null,null),(l()(),f._20(-1,null,["\n    "])),(l()(),f.Z(19,0,null,null,21,"ion-row",[["class","row"]],null,null,null,null,null)),f.Y(20,16384,null,0,pl.a,[],null,null),(l()(),f._20(-1,null,["\n      "])),(l()(),f.Z(22,0,null,null,6,"ion-card",[],null,null,null,null,null)),f.Y(23,16384,null,0,rl.a,[N.a,f.j,f.z],null,null),(l()(),f._20(-1,null,["\n        "])),(l()(),f.Z(25,0,null,null,2,"ion-card-content",[["style","color: orange"],["text-center",""]],null,null,null,null,null)),f.Y(26,16384,null,0,sl.a,[N.a,f.j,f.z],null,null),(l()(),f._20(-1,null,["\n          This demo uses extremely experimental APIs. It can (and will) crash for multiple reasons.\n        "])),(l()(),f._20(-1,null,["\n      "])),(l()(),f._20(-1,null,["\n      "])),(l()(),f.Z(30,0,null,null,9,"ion-card",[],null,null,null,null,null)),f.Y(31,16384,null,0,rl.a,[N.a,f.j,f.z],null,null),(l()(),f._20(-1,null,["\n        "])),(l()(),f.Z(33,0,null,null,5,"ion-card-content",[["style","color: red"],["text-center",""]],null,null,null,null,null)),f.Y(34,16384,null,0,sl.a,[N.a,f.j,f.z],null,null),(l()(),f._20(-1,null,["\n          FACE DETECTION API STILL NOT SUPPORTING LINUX!\n          "])),(l()(),f.Z(36,0,null,null,1,"a",[["href","https://github.com/WICG/shape-detection-api#overview"]],null,null,null,null,null)),(l()(),f._20(-1,null,["Link"])),(l()(),f._20(-1,null,["\n        "])),(l()(),f._20(-1,null,["\n      "])),(l()(),f._20(-1,null,["\n    "])),(l()(),f._20(-1,null,["\n    "])),(l()(),f.Z(42,0,null,null,218,"ion-row",[["class","row"]],null,null,null,null,null)),f.Y(43,16384,null,0,pl.a,[],null,null),(l()(),f._20(-1,null,["\n      "])),(l()(),f.Z(45,0,null,null,17,"ion-col",[["class","col"],["col-12",""],["col-md-8",""]],null,null,null,null,null)),f.Y(46,16384,null,0,ml.a,[],null,null),(l()(),f._20(-1,null,["\n        "])),(l()(),f.Z(48,0,null,null,13,"ion-card",[],null,null,null,null,null)),f.Y(49,16384,null,0,rl.a,[N.a,f.j,f.z],null,null),(l()(),f._20(-1,null,["\n          "])),(l()(),f.Z(51,0,null,null,9,"ion-card-content",[],null,null,null,null,null)),f.Y(52,16384,null,0,sl.a,[N.a,f.j,f.z],null,null),(l()(),f._20(-1,null,["\n            "])),(l()(),f.Z(54,0,null,null,5,"div",[["class","video-container"]],null,null,null,null,null)),(l()(),f._20(-1,null,["\n              "])),(l()(),f.Z(56,0,[[1,0],["video",1]],null,0,"video",[["autoplay",""],["id","video"]],null,null,null,null,null)),(l()(),f._20(-1,null,["\n              "])),(l()(),f.Z(58,0,[[2,0],["canvas",1]],null,0,"canvas",[["id","canvas"]],null,null,null,null,null)),(l()(),f._20(-1,null,["\n            "])),(l()(),f._20(-1,null,["\n          "])),(l()(),f._20(-1,null,["\n        "])),(l()(),f._20(-1,null,["\n      "])),(l()(),f._20(-1,null,["\n      "])),(l()(),f.Z(64,0,null,null,195,"ion-col",[["class","col"],["col-12",""],["col-md-4",""]],null,null,null,null,null)),f.Y(65,16384,null,0,ml.a,[],null,null),(l()(),f._20(-1,null,["\n        "])),(l()(),f.Z(67,0,null,null,27,"ion-card",[],null,null,null,null,null)),f.Y(68,16384,null,0,rl.a,[N.a,f.j,f.z],null,null),(l()(),f._20(-1,null,["\n          "])),(l()(),f.Z(70,0,null,null,23,"ion-card-content",[],null,null,null,null,null)),f.Y(71,16384,null,0,sl.a,[N.a,f.j,f.z],null,null),(l()(),f._20(-1,null,["\n            "])),(l()(),f.Z(73,0,null,null,19,"ion-item",[["class","item item-block"]],null,null,null,ll.b,ll.a)),f.Y(74,1097728,null,3,nl.a,[ul.a,N.a,f.j,f.z,[2,tl.a]],null,null),f._18(335544320,4,{contentLabel:0}),f._18(603979776,5,{_buttons:1}),f._18(603979776,6,{_icons:1}),f.Y(78,16384,null,0,el.a,[],null,null),(l()(),f._20(-1,2,["\n              "])),(l()(),f.Z(80,0,null,3,4,"ion-input",[["placeholder","New Label"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(l,n,u){var t=!0;if("ngModelChange"===n){t=!1!==(l.component.labelToAdd=u)&&t}return t},bl.b,bl.a)),f.Y(81,671744,null,0,vl.h,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),f._16(2048,null,vl.f,null,[vl.h]),f.Y(83,16384,null,0,vl.g,[vl.f],null,null),f.Y(84,5423104,null,0,yl.a,[N.a,B.a,ul.a,R.a,f.j,f.z,[2,X.a],[2,nl.a],[2,vl.f],G.a],{placeholder:[0,"placeholder"]},null),(l()(),f._20(-1,2,["\n              "])),(l()(),f.Z(86,0,null,4,5,"button",[["ion-button",""],["item-right",""]],null,[[null,"click"]],function(l,n,u){var t=!0,e=l.component;if("click"===n){t=!1!==e.onAddLabel(e.labelToAdd)&&t}return t},il.b,il.a)),f.Y(87,1097728,[[5,4]],0,ol.a,[[8,""],N.a,f.j,f.z],null,null),(l()(),f._20(-1,0,["\n                "])),(l()(),f.Z(89,0,null,0,1,"ion-icon",[["name","add"],["role","img"]],[[2,"hide",null]],null,null,null,null)),f.Y(90,147456,null,0,al.a,[N.a,f.j,f.z],{name:[0,"name"]},null),(l()(),f._20(-1,0,["\n              "])),(l()(),f._20(-1,2,["\n            "])),(l()(),f._20(-1,null,["\n          "])),(l()(),f._20(-1,null,["\n        "])),(l()(),f._20(-1,null,["\n        "])),(l()(),f.Z(96,0,null,null,18,"ion-card",[],null,null,null,null,null)),f.Y(97,16384,null,0,rl.a,[N.a,f.j,f.z],null,null),(l()(),f._20(-1,null,["\n          "])),(l()(),f.Z(99,0,null,null,14,"ion-card-content",[],null,null,null,null,null)),f.Y(100,16384,null,0,sl.a,[N.a,f.j,f.z],null,null),(l()(),f._20(-1,null,["\n            "])),(l()(),f.U(16777216,null,null,1,null,a)),f.Y(103,16384,null,0,Cl.j,[f.I,f.F],{ngIf:[0,"ngIf"]},null),(l()(),f._20(-1,null,["\n\n            "])),(l()(),f.U(16777216,null,null,1,null,i)),f.Y(106,16384,null,0,Cl.j,[f.I,f.F],{ngIf:[0,"ngIf"]},null),(l()(),f._20(-1,null,["\n\n            "])),(l()(),f.U(16777216,null,null,1,null,o)),f.Y(109,802816,null,0,Cl.i,[f.I,f.F,f.p],{ngForOf:[0,"ngForOf"]},null),(l()(),f._20(-1,null,["\n            "])),(l()(),f.U(16777216,null,null,1,null,r)),f.Y(112,16384,null,0,Cl.j,[f.I,f.F],{ngIf:[0,"ngIf"]},null),(l()(),f._20(-1,null,["\n          "])),(l()(),f._20(-1,null,["\n        "])),(l()(),f._20(-1,null,["\n        "])),(l()(),f.U(16777216,null,null,1,null,s)),f.Y(117,16384,null,0,Cl.j,[f.I,f.F],{ngIf:[0,"ngIf"]},null),(l()(),f._20(-1,null,["\n        "])),(l()(),f.Z(119,0,null,null,85,"ion-card",[["class","model-params"]],null,null,null,null,null)),f.Y(120,16384,null,0,rl.a,[N.a,f.j,f.z],null,null),(l()(),f._20(-1,null,["\n          "])),(l()(),f.Z(122,0,null,null,81,"ion-card-content",[],null,null,null,null,null)),f.Y(123,16384,null,0,sl.a,[N.a,f.j,f.z],null,null),(l()(),f._20(-1,null,["\n            "])),(l()(),f.Z(125,0,null,null,16,"ion-item",[["class","item item-block"]],null,null,null,ll.b,ll.a)),f.Y(126,1097728,null,3,nl.a,[ul.a,N.a,f.j,f.z,[2,tl.a]],null,null),f._18(335544320,25,{contentLabel:0}),f._18(603979776,26,{_buttons:1}),f._18(603979776,27,{_icons:1}),f.Y(130,16384,null,0,el.a,[],null,null),(l()(),f._20(-1,2,["\n              "])),(l()(),f.Z(132,0,null,1,2,"ion-label",[["no-margin",""]],null,null,null,null,null)),f.Y(133,16384,[[25,4]],0,Yl.a,[N.a,f.j,f.z,[8,null],[8,null],[8,null],[8,null]],null,null),(l()(),f._20(-1,null,["Learning Rate"])),(l()(),f._20(-1,2,["\n              "])),(l()(),f.Z(136,0,null,3,4,"ion-input",[["step","0.00001"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(l,n,u){var t=!0;if("ngModelChange"===n){t=!1!==(l.component.imageClassifier.learningRate=u)&&t}return t},bl.b,bl.a)),f.Y(137,671744,null,0,vl.h,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),f._16(2048,null,vl.f,null,[vl.h]),f.Y(139,16384,null,0,vl.g,[vl.f],null,null),f.Y(140,5423104,null,0,yl.a,[N.a,B.a,ul.a,R.a,f.j,f.z,[2,X.a],[2,nl.a],[2,vl.f],G.a],{type:[0,"type"],step:[1,"step"]},null),(l()(),f._20(-1,2,["\n            "])),(l()(),f._20(-1,null,["\n            "])),(l()(),f.Z(143,0,null,null,16,"ion-item",[["class","item item-block"]],null,null,null,ll.b,ll.a)),f.Y(144,1097728,null,3,nl.a,[ul.a,N.a,f.j,f.z,[2,tl.a]],null,null),f._18(335544320,28,{contentLabel:0}),f._18(603979776,29,{_buttons:1}),f._18(603979776,30,{_icons:1}),f.Y(148,16384,null,0,el.a,[],null,null),(l()(),f._20(-1,2,["\n              "])),(l()(),f.Z(150,0,null,1,2,"ion-label",[["no-margin",""]],null,null,null,null,null)),f.Y(151,16384,[[28,4]],0,Yl.a,[N.a,f.j,f.z,[8,null],[8,null],[8,null],[8,null]],null,null),(l()(),f._20(-1,null,["Hidden Units"])),(l()(),f._20(-1,2,["\n              "])),(l()(),f.Z(154,0,null,3,4,"ion-input",[["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(l,n,u){var t=!0;if("ngModelChange"===n){t=!1!==(l.component.imageClassifier.hiddenUnits=u)&&t}return t},bl.b,bl.a)),f.Y(155,671744,null,0,vl.h,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),f._16(2048,null,vl.f,null,[vl.h]),f.Y(157,16384,null,0,vl.g,[vl.f],null,null),f.Y(158,5423104,null,0,yl.a,[N.a,B.a,ul.a,R.a,f.j,f.z,[2,X.a],[2,nl.a],[2,vl.f],G.a],{type:[0,"type"]},null),(l()(),f._20(-1,2,["\n            "])),(l()(),f._20(-1,null,["\n            "])),(l()(),f.Z(161,0,null,null,16,"ion-item",[["class","item item-block"]],null,null,null,ll.b,ll.a)),f.Y(162,1097728,null,3,nl.a,[ul.a,N.a,f.j,f.z,[2,tl.a]],null,null),f._18(335544320,31,{contentLabel:0}),f._18(603979776,32,{_buttons:1}),f._18(603979776,33,{_icons:1}),f.Y(166,16384,null,0,el.a,[],null,null),(l()(),f._20(-1,2,["\n              "])),(l()(),f.Z(168,0,null,1,2,"ion-label",[["no-margin",""]],null,null,null,null,null)),f.Y(169,16384,[[31,4]],0,Yl.a,[N.a,f.j,f.z,[8,null],[8,null],[8,null],[8,null]],null,null),(l()(),f._20(-1,null,["Batch Size"])),(l()(),f._20(-1,2,["\n              "])),(l()(),f.Z(172,0,null,3,4,"ion-input",[["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(l,n,u){var t=!0;if("ngModelChange"===n){t=!1!==(l.component.imageClassifier.batchSize=u)&&t}return t},bl.b,bl.a)),f.Y(173,671744,null,0,vl.h,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),f._16(2048,null,vl.f,null,[vl.h]),f.Y(175,16384,null,0,vl.g,[vl.f],null,null),f.Y(176,5423104,null,0,yl.a,[N.a,B.a,ul.a,R.a,f.j,f.z,[2,X.a],[2,nl.a],[2,vl.f],G.a],{type:[0,"type"]},null),(l()(),f._20(-1,2,["\n            "])),(l()(),f._20(-1,null,["\n            "])),(l()(),f.Z(179,0,null,null,16,"ion-item",[["class","item item-block"]],null,null,null,ll.b,ll.a)),f.Y(180,1097728,null,3,nl.a,[ul.a,N.a,f.j,f.z,[2,tl.a]],null,null),f._18(335544320,34,{contentLabel:0}),f._18(603979776,35,{_buttons:1}),f._18(603979776,36,{_icons:1}),f.Y(184,16384,null,0,el.a,[],null,null),(l()(),f._20(-1,2,["\n              "])),(l()(),f.Z(186,0,null,1,2,"ion-label",[["no-margin",""]],null,null,null,null,null)),f.Y(187,16384,[[34,4]],0,Yl.a,[N.a,f.j,f.z,[8,null],[8,null],[8,null],[8,null]],null,null),(l()(),f._20(-1,null,["Epochs"])),(l()(),f._20(-1,2,["\n              "])),(l()(),f.Z(190,0,null,3,4,"ion-input",[["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(l,n,u){var t=!0;if("ngModelChange"===n){t=!1!==(l.component.imageClassifier.epochs=u)&&t}return t},bl.b,bl.a)),f.Y(191,671744,null,0,vl.h,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),f._16(2048,null,vl.f,null,[vl.h]),f.Y(193,16384,null,0,vl.g,[vl.f],null,null),f.Y(194,5423104,null,0,yl.a,[N.a,B.a,ul.a,R.a,f.j,f.z,[2,X.a],[2,nl.a],[2,vl.f],G.a],{type:[0,"type"]},null),(l()(),f._20(-1,2,["\n            "])),(l()(),f._20(-1,null,["\n            "])),(l()(),f.Z(197,0,null,null,2,"button",[["full",""],["ion-button",""],["margin-top",""]],[[8,"disabled",0]],[[null,"click"]],function(l,n,u){var t=!0;if("click"===n){t=!1!==l.component.onTrainModel()&&t}return t},il.b,il.a)),f.Y(198,1097728,null,0,ol.a,[[8,""],N.a,f.j,f.z],{full:[0,"full"]},null),(l()(),f._20(-1,0,["Train Model"])),(l()(),f._20(-1,null,["\n            "])),(l()(),f.U(16777216,null,null,1,null,c)),f.Y(202,16384,null,0,Cl.j,[f.I,f.F],{ngIf:[0,"ngIf"]},null),(l()(),f._20(-1,null,["\n          "])),(l()(),f._20(-1,null,["\n        "])),(l()(),f._20(-1,null,["\n        "])),(l()(),f.Z(206,0,null,null,52,"ion-card",[],null,null,null,null,null)),f.Y(207,16384,null,0,rl.a,[N.a,f.j,f.z],null,null),(l()(),f._20(-1,null,["\n          "])),(l()(),f.Z(209,0,null,null,48,"ion-card-content",[],null,null,null,null,null)),f.Y(210,16384,null,0,sl.a,[N.a,f.j,f.z],null,null),(l()(),f._20(-1,null,["\n            "])),(l()(),f.Z(212,0,null,null,10,"ion-item",[["class","item item-block"]],null,null,null,ll.b,ll.a)),f.Y(213,1097728,null,3,nl.a,[ul.a,N.a,f.j,f.z,[2,tl.a]],null,null),f._18(335544320,37,{contentLabel:0}),f._18(603979776,38,{_buttons:1}),f._18(603979776,39,{_icons:1}),f.Y(217,16384,null,0,el.a,[],null,null),(l()(),f._20(-1,2,["\n              "])),(l()(),f.Z(219,0,null,1,2,"ion-label",[["no-margin",""]],null,null,null,null,null)),f.Y(220,16384,[[37,4]],0,Yl.a,[N.a,f.j,f.z,[8,null],[8,null],[8,null],[8,null]],null,null),(l()(),f._20(-1,null,["Model JSON"])),(l()(),f._20(-1,2,["\n            "])),(l()(),f._20(-1,null,["\n            "])),(l()(),f.Z(224,0,null,null,0,"input",[["id","json-upload"],["padding-left",""],["placeholder","Model JSON"],["type","file"]],null,null,null,null,null)),(l()(),f._20(-1,null,["\n\n            "])),(l()(),f.Z(226,0,null,null,10,"ion-item",[["class","item item-block"]],null,null,null,ll.b,ll.a)),f.Y(227,1097728,null,3,nl.a,[ul.a,N.a,f.j,f.z,[2,tl.a]],null,null),f._18(335544320,40,{contentLabel:0}),f._18(603979776,41,{_buttons:1}),f._18(603979776,42,{_icons:1}),f.Y(231,16384,null,0,el.a,[],null,null),(l()(),f._20(-1,2,["\n              "])),(l()(),f.Z(233,0,null,1,2,"ion-label",[["margin-top",""],["no-margin",""]],null,null,null,null,null)),f.Y(234,16384,[[40,4]],0,Yl.a,[N.a,f.j,f.z,[8,null],[8,null],[8,null],[8,null]],null,null),(l()(),f._20(-1,null,["Model Weights"])),(l()(),f._20(-1,2,["\n            "])),(l()(),f._20(-1,null,["\n            "])),(l()(),f.Z(238,0,null,null,0,"input",[["id","weights-upload"],["padding-left",""],["placeholder","Model Weights"],["type","file"]],null,null,null,null,null)),(l()(),f._20(-1,null,["\n\n            "])),(l()(),f.Z(240,0,null,null,10,"ion-item",[["class","item item-block"]],null,null,null,ll.b,ll.a)),f.Y(241,1097728,null,3,nl.a,[ul.a,N.a,f.j,f.z,[2,tl.a]],null,null),f._18(335544320,43,{contentLabel:0}),f._18(603979776,44,{_buttons:1}),f._18(603979776,45,{_icons:1}),f.Y(245,16384,null,0,el.a,[],null,null),(l()(),f._20(-1,2,["\n              "])),(l()(),f.Z(247,0,null,1,2,"ion-label",[["margin-top",""],["no-margin",""]],null,null,null,null,null)),f.Y(248,16384,[[43,4]],0,Yl.a,[N.a,f.j,f.z,[8,null],[8,null],[8,null],[8,null]],null,null),(l()(),f._20(-1,null,["Model Data"])),(l()(),f._20(-1,2,["\n            "])),(l()(),f._20(-1,null,["\n            "])),(l()(),f.Z(252,0,null,null,0,"input",[["id","data-upload"],["padding-left",""],["placeholder","Model Data"],["type","file"]],null,null,null,null,null)),(l()(),f._20(-1,null,["\n\n            "])),(l()(),f.Z(254,0,null,null,2,"button",[["full",""],["ion-button",""],["margin-top",""]],null,[[null,"click"]],function(l,n,u){var t=!0;if("click"===n){t=!1!==l.component.onImportModel()&&t}return t},il.b,il.a)),f.Y(255,1097728,null,0,ol.a,[[8,""],N.a,f.j,f.z],{full:[0,"full"]},null),(l()(),f._20(-1,0,["Import Model"])),(l()(),f._20(-1,null,["\n          "])),(l()(),f._20(-1,null,["\n        "])),(l()(),f._20(-1,null,["\n      "])),(l()(),f._20(-1,null,["\n    "])),(l()(),f._20(-1,null,["\n  "])),(l()(),f._20(-1,1,["\n"]))],function(l,n){var u=n.component;l(n,9,0,"primary");l(n,81,0,u.labelToAdd);l(n,84,0,"New Label");l(n,90,0,"add");l(n,103,0,0===u.objectKeys(u.data).length);l(n,106,0,u.objectKeys(u.data).length>0);l(n,109,0,u.objectKeys(u.data));l(n,112,0,1===u.objectKeys(u.data).length);l(n,117,0,u.imageClassifier.loss);l(n,137,0,u.imageClassifier.learningRate);l(n,140,0,"number","0.00001");l(n,155,0,u.imageClassifier.hiddenUnits);l(n,158,0,"number");l(n,173,0,u.imageClassifier.batchSize);l(n,176,0,"number");l(n,191,0,u.imageClassifier.epochs);l(n,194,0,"number");l(n,198,0,"");l(n,202,0,u.imageClassifier.headModel);l(n,255,0,"")},function(l,n){var u=n.component;l(n,0,0,f._11(n,1).statusbarPadding,f._11(n,1)._hasRefresher);l(n,8,0,f._11(n,9)._sbPadding);l(n,80,0,f._11(n,83).ngClassUntouched,f._11(n,83).ngClassTouched,f._11(n,83).ngClassPristine,f._11(n,83).ngClassDirty,f._11(n,83).ngClassValid,f._11(n,83).ngClassInvalid,f._11(n,83).ngClassPending);l(n,89,0,f._11(n,90)._hidden);l(n,136,0,f._11(n,139).ngClassUntouched,f._11(n,139).ngClassTouched,f._11(n,139).ngClassPristine,f._11(n,139).ngClassDirty,f._11(n,139).ngClassValid,f._11(n,139).ngClassInvalid,f._11(n,139).ngClassPending);l(n,154,0,f._11(n,157).ngClassUntouched,f._11(n,157).ngClassTouched,f._11(n,157).ngClassPristine,f._11(n,157).ngClassDirty,f._11(n,157).ngClassValid,f._11(n,157).ngClassInvalid,f._11(n,157).ngClassPending);l(n,172,0,f._11(n,175).ngClassUntouched,f._11(n,175).ngClassTouched,f._11(n,175).ngClassPristine,f._11(n,175).ngClassDirty,f._11(n,175).ngClassValid,f._11(n,175).ngClassInvalid,f._11(n,175).ngClassPending);l(n,190,0,f._11(n,193).ngClassUntouched,f._11(n,193).ngClassTouched,f._11(n,193).ngClassPristine,f._11(n,193).ngClassDirty,f._11(n,193).ngClassValid,f._11(n,193).ngClassInvalid,f._11(n,193).ngClassPending);l(n,197,0,u.imageClassifier.isTraining||u.objectKeys(u.data).length<2)})}function _(l){return f._22(0,[f._13(0,Cl.d,[f.r]),f._18(671088640,1,{video:0}),f._18(671088640,2,{canvas:0}),f._18(402653184,3,{faceCanvas:0}),(l()(),f.U(16777216,null,null,1,null,e)),f.Y(5,16384,null,0,Cl.j,[f.I,f.F],{ngIf:[0,"ngIf"]},null),(l()(),f._20(-1,null,["\n\n"])),(l()(),f.U(16777216,null,null,1,null,d)),f.Y(8,16384,null,0,Cl.j,[f.I,f.F],{ngIf:[0,"ngIf"]},null),(l()(),f._20(-1,null,["\n\n"])),(l()(),f.Z(10,0,[[3,0],["faceCanvas",1]],null,0,"canvas",[["height","224"],["hidden",""],["id","face-canvas"],["width","224"]],null,null,null,null,null))],function(l,n){var u=n.component;l(n,5,0,!u.faceDetectorAvailable);l(n,8,0,u.faceDetectorAvailable)},null)}Object.defineProperty(n,"__esModule",{value:!0});var h=u(41),f=u(0),g=(u(2),u(145),u(87)),p=u(88),m=u(201),b=this&&this.__awaiter||function(l,n,u,t){return new(u||(u=Promise))(function(e,a){function i(l){try{r(t.next(l))}catch(l){a(l)}}function o(l){try{r(t.throw(l))}catch(l){a(l)}}function r(l){l.done?e(l.value):new u(function(n){n(l.value)}).then(i,o)}r((t=t.apply(l,n||[])).next())})},v=this&&this.__generator||function(l,n){function u(u){return function(i){return function(u){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,e&&(a=e[2&u[0]?"return":u[0]?"throw":"next"])&&!(a=a.call(e,u[1])).done)return a;switch(e=0,a&&(u=[0,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,e=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(a=o.trys,!(a=a.length>0&&a[a.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=n.call(l,o)}catch(l){u=[6,l],e=0}finally{t=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,i])}}var t,e,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i},y=function(){function l(){this.learningRate=1e-5,this.hiddenUnits=100,this.epochs=20,this.batchSize=10,this.loss=0,this.init()}return l.prototype.init=function(){return b(this,void 0,void 0,function(){var l;return v(this,function(n){switch(n.label){case 0:return l=this,[4,this.loadMobilenet()];case 1:return l.mobilenet=n.sent(),[2]}})})},l.prototype.loadMobilenet=function(){return b(this,void 0,void 0,function(){var l,n;return v(this,function(u){switch(u.label){case 0:return[4,m.e("https://storage.googleapis.com/tfjs-models/tfjs/mobilenet_v1_0.25_224/model.json")];case 1:return l=u.sent(),n=l.getLayer("conv_pw_13_relu"),[2,m.f({inputs:l.inputs,outputs:n.output})]}})})},l.prototype.predictMobilenet=function(l){var n=this.imageDataToTensor(l);return this.mobilenet.predict(n)},l.prototype.imageDataToTensor=function(l){return m.l(function(){return m.a(l).expandDims(0).toFloat().div(m.i(127)).sub(m.i(1))})},l.prototype.trainModel=function(l){var n=this;this.isTraining=!0;var u=this.dataToDataset(l);this.labels=u.labels;var t=this.createHeadModel(this.labels.length),e=m.m.adam(this.learningRate);t.compile({optimizer:e,loss:"categoricalCrossentropy"});t.fit(u.xs,u.ys,{batchSize:this.batchSize,epochs:this.epochs,callbacks:{onBatchEnd:function(l,u){return b(n,void 0,void 0,function(){return v(this,function(l){switch(l.label){case 0:return this.loss=u.loss,[4,m.g()];case 1:return l.sent(),[2]}})})},onTrainEnd:function(){n.headModel=t,n.isTraining=!1}}})},l.prototype.dataToDataset=function(l){var n,u,t=this,e=Object.keys(l);return e.forEach(function(a,i){l[a].forEach(function(l){var a=m.l(function(){return m.h(m.k([i]).toInt(),e.length)}),o=t.predictMobilenet(l);if(n){var r=n;n=m.c(r.concat(a,0));var s=u;u=m.c(s.concat(o,0)),r.dispose(),s.dispose()}else n=m.c(a),u=m.c(o)})}),{labels:e,xs:u,ys:n}},l.prototype.createHeadModel=function(l){return m.j({layers:[m.d.flatten({inputShape:[7,7,256]}),m.d.dense({units:this.hiddenUnits,activation:"relu",kernelInitializer:"varianceScaling",useBias:!0}),m.d.dense({units:l,kernelInitializer:"varianceScaling",useBias:!1,activation:"softmax"})]})},l.prototype.predict=function(l){return b(this,void 0,void 0,function(){var n,u,t,e;return v(this,function(a){switch(a.label){case 0:return this.headModel?(n=this.imageDataToTensor(l),u=this.mobilenet.predict(n),t=this.headModel.predict(u),[4,t.as1D().argMax().data()]):[2,"????"];case 1:return e=a.sent(),[2,this.labels[e[0]]]}})})},l}(),C=this&&this.__awaiter||function(l,n,u,t){return new(u||(u=Promise))(function(e,a){function i(l){try{r(t.next(l))}catch(l){a(l)}}function o(l){try{r(t.throw(l))}catch(l){a(l)}}function r(l){l.done?e(l.value):new u(function(n){n(l.value)}).then(i,o)}r((t=t.apply(l,n||[])).next())})},Y=this&&this.__generator||function(l,n){function u(u){return function(i){return function(u){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,e&&(a=e[2&u[0]?"return":u[0]?"throw":"next"])&&!(a=a.call(e,u[1])).done)return a;switch(e=0,a&&(u=[0,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,e=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(a=o.trys,!(a=a.length>0&&a[a.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=n.call(l,o)}catch(l){u=[6,l],e=0}finally{t=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,i])}}var t,e,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i},j=function(){function l(l){this.imageClassifier=l,this.faceDetectorAvailable=!0,this.data={},this.objectKeys=Object.keys}return l.prototype.ionViewDidEnter=function(){return C(this,void 0,void 0,function(){var l=this;return Y(this,function(n){try{this.faceDetector=new window.FaceDetector({fastMode:!0})}catch(l){return this.faceDetectorAvailable=!1,[2]}return this.videoElement=this.video.nativeElement,this.canvasElement=this.canvas.nativeElement,this.faceCanvasElement=this.faceCanvas.nativeElement,this.faceCanvasContext=this.faceCanvasElement.getContext("2d"),this.startWebcamAndFaceDetection(),window.onresize=function(){return l.resizeCanvas()},[2]})})},l.prototype.startWebcamAndFaceDetection=function(){var l=this;navigator.getUserMedia({video:!0},function(n){l.videoElement.srcObject=n,l.videoElement.onloadeddata=function(){l.startFaceRecognition(),l.resizeCanvas()}},function(l){return console.log("The following error occurred when trying to use getUserMedia: "+l)})},l.prototype.resizeCanvas=function(){this.canvasElement.width=this.videoElement.videoWidth,this.canvasElement.height=this.videoElement.videoHeight,this.canvasElement.style.width=this.videoElement.clientWidth+"px",this.canvasElement.style.height=this.videoElement.clientHeight+"px",this.canvasContext=this.canvasElement.getContext("2d")},l.prototype.startFaceRecognition=function(){var l=this;this.faceDetectionInterval=setInterval(function(){return C(l,void 0,void 0,function(){var l,n=this;return Y(this,function(u){switch(u.label){case 0:return this.imageClassifier.isTraining?(this.clearCanvas(),[2]):[4,this.detectFaces()];case 1:return l=u.sent(),this.firstFace=l[0],this.clearCanvas(),l.forEach(function(l,u){return C(n,void 0,void 0,function(){var n,t,e;return Y(this,function(a){switch(a.label){case 0:return n=this.getFaceImageData(l),t=0===u?"#0000FF":"#00FF00",[4,this.imageClassifier.predict(n)];case 1:return e=a.sent(),this.drawFaceRectangle(l,e,t),[2]}})})}),[2]}})})},100)},l.prototype.getFaceImageData=function(l){var n=l.boundingBox;this.faceCanvasContext.drawImage(this.videoElement,n.x,n.y,n.width,n.height,0,0,this.faceCanvasElement.width,this.faceCanvasElement.height);return this.faceCanvasContext.getImageData(0,0,this.faceCanvasElement.width,this.faceCanvasElement.height)},l.prototype.detectFaces=function(){return C(this,void 0,void 0,function(){var l;return Y(this,function(n){switch(n.label){case 0:return[4,this.faceDetector.detect(this.video.nativeElement)];case 1:return l=n.sent(),[2,l]}})})},l.prototype.clearCanvas=function(){this.canvasContext.clearRect(0,0,this.canvasElement.width,this.canvasElement.height)},l.prototype.drawFaceRectangle=function(l,n,u){var t=l.boundingBox,e=t.width,a=t.height,i=t.x,o=t.y;this.canvasContext.strokeStyle=u,this.canvasContext.fillStyle=u,this.canvasContext.font="14px Arial",this.canvasContext.lineWidth=2,this.canvasContext.strokeRect(i,o,e,a),this.canvasContext.fillText(n,i+5,o-10)},l.prototype.onAddLabel=function(l){l&&!this.data[l]&&(this.data[l]=[],this.labelToAdd="")},l.prototype.onAddPicture=function(l){if(this.firstFace){var n=this.getFaceImageData(this.firstFace);this.data[l].push(n)}},l.prototype.onTrainModel=function(){this.imageClassifier.trainModel(this.data)},l.prototype.onExportModel=function(){return C(this,void 0,void 0,function(){var l;return Y(this,function(n){switch(n.label){case 0:return[4,this.imageClassifier.headModel.save("downloads://model")];case 1:return n.sent(),l=this.getExportableData(),this.downloadExportableData(l),[2]}})})},l.prototype.downloadExportableData=function(l){var n=document.createElement("a"),u=new Blob([JSON.stringify(l)],{type:"text/json"});n.href=URL.createObjectURL(u),n.download="model-data.json",n.click()},l.prototype.getExportableData=function(){var l=this,n={};return Object.keys(this.data).forEach(function(u){n[u]=l.data[u].map(function(l){return Array.from(l.data)})}),n},l.prototype.onImportModel=function(){return C(this,void 0,void 0,function(){var l,n,u,t,e;return Y(this,function(a){switch(a.label){case 0:return l=document.getElementById("json-upload"),n=document.getElementById("weights-upload"),u=document.getElementById("data-upload"),t=this,[4,this.readJSONFile(u.files[0])];case 1:return t.data=a.sent(),this.imageClassifier.labels=Object.keys(this.data),e=this.imageClassifier,[4,m.e(m.b.browserFiles([l.files[0],n.files[0]]))];case 2:return e.headModel=a.sent(),[2]}})})},l.prototype.readJSONFile=function(l){var n=this;return new Promise(function(u,t){var e=new FileReader;e.onload=function(l){u(n.JSONToData(l.target.result))},e.readAsText(l)})},l.prototype.JSONToData=function(l){var n=JSON.parse(l);return Object.keys(n).forEach(function(l){n[l]=n[l].map(function(l){return new ImageData(Uint8ClampedArray.from(l),224,224)})}),n},l}(),Z=function(){return function(l,n,u){this.rootPage=j,l.ready().then(function(){n.styleDefault(),u.hide()})}}(),w=function(){return function(){}}(),z=u(61),x=u(289),k=u(290),E=u(291),I=u(292),M=u(293),T=u(294),D=u(295),F=u(296),L=u(297),P=u(298),S=u(44),U=u(65),A=u(7),O=u(26),R=u(11),N=u(1),B=u(5),J=u(10),V=u(36),W=u(20),G=u(12),H=f.X({encapsulation:2,styles:[],data:{}}),K=f.V("ng-component",Z,function(l){return f._22(0,[(l()(),f.Z(0,0,null,null,1,"ng-component",[],null,null,null,t,H)),f.Y(1,49152,null,0,Z,[B.a,p.a,g.a],null,null)],null,null)},{},{},[]),q=u(299),X=u(27),$=u(38),Q=u(124),ll=u(210),nl=u(22),ul=u(18),tl=u(55),el=u(76),al=u(53),il=u(49),ol=u(24),rl=u(100),sl=u(101),cl=u(300),dl=u(46),_l=u(301),hl=u(86),fl=u(45),gl=u(104),pl=u(105),ml=u(103),bl=u(302),vl=u(21),yl=u(75),Cl=u(15),Yl=u(54),jl=f.X({encapsulation:2,styles:[],data:{}}),Zl=f.V("page-home",j,function(l){return f._22(0,[(l()(),f.Z(0,0,null,null,1,"page-home",[],null,null,null,_,jl)),f.Y(1,49152,null,0,j,[y],null,null)],null,null)},{},{},[]),wl=u(132),zl=u(97),xl=u(99),kl=u(129),El=u(39),Il=u(109),Ml=u(198),Tl=u(63),Dl=u(56),Fl=u(111),Ll=u(72),Pl=u(116),Sl=u(128),Ul=u(123),Al=u(197),Ol=u(130),Rl=u(34),Nl=u(110),Bl=u(131),Jl=f.W(w,[z.b],function(l){return f._7([f._8(512,f.i,f.S,[[8,[x.a,k.a,E.a,I.a,M.a,T.a,D.a,F.a,L.a,K,Zl]],[3,f.i],f.s]),f._8(5120,f.r,f._17,[[3,f.r]]),f._8(4608,Cl.l,Cl.k,[f.r,[2,Cl.t]]),f._8(5120,f.b,f._1,[]),f._8(5120,f.p,f._9,[]),f._8(5120,f.q,f._12,[]),f._8(4608,h.c,h.q,[Cl.c]),f._8(6144,f.D,null,[h.c]),f._8(4608,h.f,wl.a,[]),f._8(5120,h.d,function(l,n,u,t,e){return[new h.k(l,n),new h.o(u),new h.n(t,e)]},[Cl.c,f.u,Cl.c,Cl.c,h.f]),f._8(4608,h.e,h.e,[h.d,f.u]),f._8(135680,h.m,h.m,[Cl.c]),f._8(4608,h.l,h.l,[h.e,h.m]),f._8(6144,f.B,null,[h.l]),f._8(6144,h.p,null,[h.m]),f._8(4608,f.G,f.G,[f.u]),f._8(4608,h.h,h.h,[Cl.c]),f._8(4608,h.i,h.i,[Cl.c]),f._8(4608,vl.k,vl.k,[]),f._8(4608,vl.c,vl.c,[]),f._8(4608,zl.a,zl.a,[R.a,N.a]),f._8(4608,xl.a,xl.a,[R.a,N.a]),f._8(4608,kl.a,kl.a,[]),f._8(4608,ul.a,ul.a,[]),f._8(4608,El.a,El.a,[B.a]),f._8(4608,$.a,$.a,[N.a,B.a,f.u,G.a]),f._8(4608,Il.a,Il.a,[R.a,N.a]),f._8(5120,Cl.g,Ml.b,[Cl.r,[2,Cl.a],N.a]),f._8(4608,Cl.f,Cl.f,[Cl.g]),f._8(5120,Tl.b,Tl.d,[R.a,Tl.a]),f._8(5120,W.a,W.b,[R.a,Tl.b,Cl.f,Dl.b,f.i]),f._8(4608,Fl.a,Fl.a,[R.a,N.a,W.a]),f._8(4608,Ll.a,Ll.a,[R.a,N.a]),f._8(4608,Pl.a,Pl.a,[R.a,N.a,W.a]),f._8(4608,Sl.a,Sl.a,[N.a,B.a,G.a,R.a,J.l]),f._8(4608,Ul.a,Ul.a,[R.a,N.a]),f._8(4608,V.a,V.a,[B.a,N.a]),f._8(4608,p.a,p.a,[]),f._8(4608,g.a,g.a,[]),f._8(4608,y,y,[]),f._8(512,Cl.b,Cl.b,[]),f._8(512,f.k,Al.a,[]),f._8(256,N.b,{},[]),f._8(1024,Ol.a,Ol.b,[]),f._8(1024,B.a,B.b,[h.b,Ol.a,f.u]),f._8(1024,N.a,N.c,[N.b,B.a]),f._8(512,G.a,G.a,[B.a]),f._8(512,Rl.a,Rl.a,[]),f._8(512,R.a,R.a,[N.a,B.a,[2,Rl.a]]),f._8(512,J.l,J.l,[R.a]),f._8(256,Tl.a,{links:[]},[]),f._8(512,f.h,f.h,[]),f._8(512,Nl.a,Nl.a,[f.h]),f._8(1024,Dl.b,Dl.c,[Nl.a,f.o]),f._8(1024,f.c,function(l,n,u,t,e,a,i,o,r,s,c,d,_){return[h.s(l),Bl.a(n),kl.b(u,t),Sl.b(e,a,i,o,r),Dl.d(s,c,d,_)]},[[2,f.t],N.a,B.a,G.a,N.a,B.a,G.a,R.a,J.l,N.a,Tl.a,Dl.b,f.u]),f._8(512,f.d,f.d,[[2,f.c]]),f._8(131584,f.f,f.f,[f.u,f.T,f.o,f.k,f.i,f.d]),f._8(512,f.e,f.e,[f.f]),f._8(512,h.a,h.a,[[3,h.a]]),f._8(512,vl.j,vl.j,[]),f._8(512,vl.d,vl.d,[]),f._8(512,vl.i,vl.i,[]),f._8(512,Ml.a,Ml.a,[]),f._8(512,w,w,[]),f._8(256,z.a,Z,[]),f._8(256,Cl.a,"/",[])])});Object(f.M)(),Object(h.j)().bootstrapModuleFactory(Jl)},254:function(l,n){}},[211]);